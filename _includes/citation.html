<div class="citation-section">
    <h3 class="citation-title">ðŸ“š How to Cite This Post</h3>
    
    <div class="citation-formats">
        <!-- BibTeX Citation -->
        <div class="citation-format">
            <h4>BibTeX</h4>
            <div class="citation-box">
                <pre class="citation-text" id="bibtex-citation">@article&#123;yadav{{ page.date | date: "%Y" }}{{ page.title | slugify | replace: '-', '' }},
    title = &#123;{{ page.title | escape }}&#125;,
    author = &#123;{{ site.author.name | default: "Sumit Yadav" }}&#125;,
    journal = &#123;{{ site.title }}&#125;,
    year = &#123;{{ page.date | date: "%Y" }}&#125;,
    month = &#123;{{ page.date | date: "%B" }}&#125;,
    day = &#123;{{ page.date | date: "%d" }}&#125;,
    url = &#123;https://tatva.sumityadav.com.np{{ page.url }}&#125;,
    note = &#123;Accessed: {{ site.time | date: "%B %d, %Y" }}&#125;
&#125;</pre>
                <button class="copy-button" onclick="copyToClipboard('bibtex-citation')" title="Copy BibTeX">
                    ðŸ“‹ Copy BibTeX
                </button>
            </div>
        </div>
        
        <!-- APA Citation -->
        <div class="citation-format">
            <h4>APA Style</h4>
            <div class="citation-box">
                <pre class="citation-text" id="apa-citation">Yadav, S. ({{ page.date | date: "%Y, %B %d" }}). {{ page.title | escape }}. <em>{{ site.title }}</em>. https://tatva.sumityadav.com.np{{ page.url }}</pre>
                <button class="copy-button" onclick="copyToClipboard('apa-citation')" title="Copy APA">
                    ðŸ“‹ Copy APA
                </button>
            </div>
        </div>
        
        <!-- MLA Citation -->
        <div class="citation-format">
            <h4>MLA Style</h4>
            <div class="citation-box">
                <pre class="citation-text" id="mla-citation">Yadav, Sumit. "{{ page.title | escape }}." <em>{{ site.title }}</em>, {{ page.date | date: "%d %b %Y" }}, https://tatva.sumityadav.com.np{{ page.url }}.</pre>
                <button class="copy-button" onclick="copyToClipboard('mla-citation')" title="Copy MLA">
                    ðŸ“‹ Copy MLA
                </button>
            </div>
        </div>
        
        <!-- Chicago Citation -->
        <div class="citation-format">
            <h4>Chicago Style</h4>
            <div class="citation-box">
                <pre class="citation-text" id="chicago-citation">Yadav, Sumit. "{{ page.title | escape }}." {{ site.title }}. {{ page.date | date: "%B %d, %Y" }}. https://tatva.sumityadav.com.np{{ page.url }}.</pre>
                <button class="copy-button" onclick="copyToClipboard('chicago-citation')" title="Copy Chicago">
                    ðŸ“‹ Copy Chicago
                </button>
            </div>
        </div>
    </div>
    
    <div class="citation-note">
        <p><strong>Note:</strong> This citation format is automatically generated. Please verify and adjust according to your institution's specific requirements.</p>
    </div>
</div>

<script>
function copyToClipboard(elementId) {
    const element = document.getElementById(elementId);
    const text = element.textContent || element.innerText;
    
    // Create a temporary textarea element
    const textarea = document.createElement('textarea');
    textarea.value = text;
    document.body.appendChild(textarea);
    
    // Select and copy the text
    textarea.select();
    textarea.setSelectionRange(0, 99999); // For mobile devices
    
    try {
        document.execCommand('copy');
        
        // Update button text to show success
        const button = element.nextElementSibling;
        const originalText = button.textContent;
        button.textContent = 'âœ… Copied!';
        button.style.background = 'var(--link-color)';
        button.style.color = 'white';
        
        // Reset button after 2 seconds
        setTimeout(() => {
            button.textContent = originalText;
            button.style.background = '';
            button.style.color = '';
        }, 2000);
        
    } catch (err) {
        console.error('Failed to copy text: ', err);
        alert('Failed to copy citation. Please select and copy manually.');
    }
    
    // Remove the temporary textarea
    document.body.removeChild(textarea);
}
</script>