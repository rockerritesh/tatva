<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio- Rocker Ritesh - Tatva</title>
    <meta name="description" content="">
    <meta name="google-site-verification" content="IVG1y4MVA_6MT0wsjk13ooZDQLWXxvYcPXQlmf83MLM" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
    
    <!-- Mermaid.js for diagram rendering -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#ff6b6b',
                primaryTextColor: '#333',
                primaryBorderColor: '#ff6b6b',
                lineColor: '#666',
                sectionBkgColor: '#f8f9fa',
                altSectionBkgColor: '#e9ecef',
                gridColor: '#ddd',
                tertiaryColor: '#f1f3f4'
            }
        });
    </script>
</head>
<body>
    <!-- Scroll Progress Bar -->
    <div class="scroll-progress">
        <div class="scroll-progress-bar" id="scroll-progress-bar"></div>
    </div>
    
    <header class="site-header">
    <div class="wrapper">
        <a class="site-title" href="/">Tatva</a>
        
        <nav class="site-nav">
            <div class="trigger">
                <a class="page-link" href="/">Home</a>
                <!-- <a class="page-link" href="/about">About</a> -->
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
                    <span class="theme-icon theme-icon-light">üåô</span>
                    <span class="theme-icon theme-icon-dark">‚òÄÔ∏è</span>
                </button>
            </div>
        </nav>
    </div>
</header> 
    
    <main class="page-content">
        <div class="wrapper">
            <div class="main-container">
                <div class="content-area">
                    
<article class="post">
    <header class="post-header">
        <h1 class="post-title">Bio- Rocker Ritesh</h1>
        <p class="post-meta">
            <time datetime="{{ page.date | date_to_xmlschema }}">
                July 1, 2025
            </time>
            
        </p>
    </header>

    <div class="post-content">
        <p><img src="https://sumityadav.com.np/rockerritesh.png" alt="Sumit_Yadav"> <style>
        img{
        display: block;
        margin-left: auto;
        margin-right: auto;
        border-radius: 80%;
        text-align:center;
        width:50%
        }
</style></p>
<h1>Sumit Yadav (Rocker Ritesh)</h1>
<p><strong>Email:</strong> <a href="mailto:rockerritesh4@gmail.com">rockerritesh4@gmail.com</a> | <strong>Mobile:</strong> +977-9819856148<br><strong>Portfolio:</strong> <a href="https://sumityadav.com.np">sumityadav.com.np</a> | <strong>GitHub:</strong> <a href="https://github.com/rockerritesh">github.com/rockerritesh</a> | <strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/rockerritesh/">linkedin.com/in/rockerritesh</a></p>
<h2>Summary</h2>
<p><strong>AI Engineer</strong> specializing in <strong>natural language processing (NLP)</strong> and <strong>AI optimization</strong>, with 5+ years of experience developing production-grade <a href="https://huggingface.co/rockerritesh">AI systems</a>. Currently architecting:</p>
<ul>
<li><strong>Multi-agent RAG systems</strong> with guardrails for secure information retrieval</li>
<li><strong>Context-aware chatbots</strong> with post-conversation analysis capabilities</li>
<li><strong>LLM evaluation frameworks</strong> for accuracy and reliability testing</li>
<li><strong><a href="https://github.com/rockerritesh/scraper-mcp-smithery">MCP Server</a></strong> for easy and fast way to integrate Agents</li>
</ul>
<p>Proven track record in <strong>AI/Machine Learning engineering</strong> across many NLP projects including Maithili text classification (low-resources) (0.87 accuracy) and multilingual document analysis systems. Authored 4 peer-reviewed publications and one open review paper on <strong>machine learning optimization/security</strong> and <strong>low-resource language processing</strong>.</p>
<p><strong>Core Competencies:</strong></p>
<ul>
<li><strong>AI Prompt Design</strong> ‚Ä¢ <strong>LLM Fine-tuning</strong> ‚Ä¢ <strong>Security Document Analysis</strong></li>
<li><strong>Technical Documentation</strong> ‚Ä¢ <strong>Cross-functional Collaboration</strong> ‚Ä¢ <strong>GRC Data Annotation</strong></li>
</ul>
<h2>Education</h2>
<p><strong>Pulchowk Engineering College</strong> | Kathmandu, Nepal<br>Bachelor of Computer Engineering</p>
<p><strong>Courses:</strong> SDNs, FinTech, Operating Systems, Data Structures, Big Data, Artificial Intelligence, Networking, Databases</p>
<h2>Skills Summary</h2>
<ul>
<li><strong>Languages:</strong> Python, C, C++, Bash</li>
<li><strong>Online Courses:</strong> Deep Learning and GAN Specialization, Generative AI LLM, Image Understanding TensorFlow GCP</li>
<li><strong>Tools/Modules:</strong> CI/CD, GIT, Pytorch, LangChain, LlamaIndex, Django, Streamlit, MySQL, GraphQL</li>
<li><strong>Soft Skills:</strong> Leadership, Event Management, Writing, Public Speaking, Time Management</li>
<li><strong>Hobbies:</strong> Walking, Meditation, Deep Think, Meta-Thinking</li>
</ul>
<h2>Experience</h2>
<h3>AI Engineer (Remote) | Astha.ai, USA</h3>
<p><em>May 2025 - Present</em></p>
<ul>
<li><strong>Zero Trust Agentic System:</strong> Working on projects related to RAG, Agent identity and dataflow</li>
</ul>
<h3>AI Engineer (Full-time) | Amnil Technology Pvt. Ltd, Lalitpur</h3>
<p><em>May 2024 - May 2025</em></p>
<ul>
<li><strong>Generative AI and Machine Learning Engineering:</strong> Working on projects related to RAG, Agent-based systems, recursive query, Chatbot, SQL Agent, and scheduling optimization. Built systems including Guardrails, LLM evaluation, and Report generation</li>
<li><strong>LLM hosting, inference optimization, and API integration:</strong> Hosted different <strong>embedding models</strong> and <strong>completion models</strong> (e.g., LLaMA 3.3 3B model) on server using vLLM inference engine, ensuring efficient performance and easy API integration</li>
</ul>
<h3>Chief Data Officer (Full-time) | Ed-Acadia, Lalitpur</h3>
<p><em>May 2022 - 2023</em></p>
<ul>
<li><strong>AI/ML Projects:</strong> Supervised projects and research related to Data Science. Worked on different DocumentsAI systems for low-resource languages</li>
</ul>
<h3>Software Coordinator (Full-time) | PDSC (Plan Design Solve Create), Lalitpur</h3>
<p><em>May 2022 - 2023</em></p>
<ul>
<li><strong>Project Management:</strong> Supervised projects and research related to Data Science</li>
</ul>
<h3>GAN Mentor (Part-time) | DeepLearning.AI, Virtual</h3>
<p><em>Aug 2021 - Present</em></p>
<ul>
<li><strong>Course - GAN Specialization:</strong> Helping students understand key concepts behind Unsupervised learning (GAN)</li>
</ul>
<h3>AI and Robotics Member (Part-time) | Robotics Association of Nepal, Lalitpur</h3>
<p><em>2021 - Present</em></p>
<ul>
<li><strong>Making Robotics based systems:</strong> Conducted research and projects related to Computer Vision based on Raspberry Pi microcontroller</li>
</ul>
<h2>Publications</h2>
<ol>
<li><p><strong><a href="https://www.researchgate.net/publication/371514138_SUPPORT_VECTORS_ARE_A_BETTER_WAY_OF_TEXT_CLASSIFICATION_FOR_IMBALANCED_DATA">SUPPORT VECTORS ARE A BETTER WAY OF TEXT CLASSIFICATION FOR IMBALANCED DATA</a></strong> - Presented a robust SVC method for text classification (100+ classes) using term-frequency vectorization, achieving superior test data results over neural networks</p>
</li>
<li><p><strong><a href="https://www.researchgate.net/publication/373370042_Machine_Learning_Analysis_of_Tirhuta_Lipi">Machine Learning Analysis of Tirhuta Lipi</a></strong> - Achieved 0.97 accuracy in Tirhuta Lipi character recognition using MobileNet embedding and logistic regression, with applications in translation and OCR for low-resource languages</p>
</li>
<li><p><strong><a href="https://doi.org/10.61440/JBES.2024.v1.47">Revolutionizing Currency Security: A Yolov8-Based Approach for Automated Detection of Counterfeit Nepali Banknotes</a></strong> - The challenge of counterfeit currency in financial transactions requires innovative solutions for the efficient and accurate verification of banknotes. The study
focuses on categorizing banknotes as fake or genuine in the context of Nepalese currency, which is crucial for maintaining economic stability, preventing
financial fraud, and ensuring public trust in the monetary system. For the 180 collected samples of 1000 Nepalese rupee banknotes, the YOLOv8 algorithm
achieved a true positive recall of 0.82 for the front face and 0.9863 for the back face. The mean average precision and confidence threshold achieved in the
study indicate significant improvements with YOLOv8. The proposed approach demonstrates the potential for global implementation and adaptability across
various hardware platforms.</p>
</li>
<li><p><strong><a href="https://arxiv.org/html/2508.11290v1">SafeConstellations: Steering LLM Safety to Reduce Over-Refusals Through Task-Specific Trajectory</a></strong> - LLMs increasingly exhibit over-refusal behavior, where safety mechanisms cause models to reject benign instructions that superficially resemble harmful content. This phenomena diminishes utility in production applications that repeatedly rely on common prompt templates or applications that frequently rely on LLMs for specific tasks (e.g. sentiment analysis, language translation). Through comprehensive evaluation, we demonstrate that LLMs still tend to refuse responses to harmful instructions when those instructions are reframed to appear as benign tasks. Our mechanistic analysis reveal that LLMs follow distinct &quot;constellation&quot; patterns in embedding space as representations traverse layers, with each task maintaining consistent trajectories that shift predictably between refusal and non-refusal cases. We introduce SafeConstellations, an inference-time trajectory-shifting approach that tracks task-specific trajectory patterns and guides representations toward non-refusal pathways. By selectively guiding model behavior only on tasks prone to over-refusal, and by preserving general model behavior, our method reduces over-refusal rates by up to 73% with minimal impact on utility-offering a principled approach to mitigating over-refusals.  (August 2025)</p>
</li>
<li><p><strong><a href="https://arxiv.org/abs/2509.15048">Can maiBERT Speak for Maithili?</a></strong> - Natural Language Understanding (NLU) for low-resource languages remains a major challenge in NLP due to the scarcity of high-quality data and language-specific models. Maithili, despite being spoken by millions, lacks adequate computational resources, limiting its inclusion in digital and AI-driven applications. To address this gap, we introducemaiBERT, a BERT-based language model pre-trained specifically for Maithili using the Masked Language Modeling (MLM) technique. Our model is trained on a newly constructed Maithili corpus and evaluated through a news classification task. In our experiments, maiBERT achieved an accuracy of 87.02%, outperforming existing regional models like NepBERTa and HindiBERT, with a 0.13% overall accuracy gain and 5-7% improvement across various classes. We have open-sourced maiBERT on Hugging Face enabling further fine-tuning for downstream tasks such as sentiment analysis and Named Entity Recognition (NER). (September 2025)</p>
</li>
</ol>
<h2>Projects</h2>
<h3><a href="https://github.com/rockerritesh/vibe_coder">Vibe-Coder</a></h3>
<p>Made an Agent that will do Streamlit and FastAPI. <strong>Tech:</strong> Agent, MCP, Claude API keys, Python, Streamlit</p>
<h3>Retrieval Augmentation Generation System (RAG) and Intelligent Document Processing (IDP)</h3>
<p>Developed a retrieval-augmented reality system for enhanced information access and interaction. <strong>Tech:</strong> OpenAI, Gemini, Claude API keys, Python</p>
<h3>Nepali Chat with Doc</h3>
<p>Implemented a <a href="https://huggingface.co/spaces/rockerritesh/open_ai_chat_bot">chatbot</a> for Nepali language using Devanagari and Preeti fonts. Features include Guardrails system, post-conversation analysis, and agent-based systems like SQL Agent, Excel Agent, and Reflexive Agents. <a href="https://huggingface.co/spaces/rockerritesh/preeti-unicode">Preeti to Unicode Conversion</a>. <strong>Tech:</strong> OpenAI, Gemini, Claude API keys</p>
<h3>Bachelor&#39;s Major Project: Evaluating Auto-Encoder Transformer Language Model for Maithili Text Classification</h3>
<p>Established a benchmark in this language. First to create a corpus in Devanagari Maithili language, trained LLM for Maithili, and performed downstream task classification. <strong>Tech:</strong> LLM, <a href="https://huggingface.co/rockerritesh/maiBERT_TF">Transformer (BERT)</a>, PyTorch, <a href="https://maithili.streamlit.app/">Streamlit</a> &amp; Big Data (April 2024)</p>
<h3><a href="https://github.com/jarp0l/IRB-Robo-Arm">IRB</a> (Image Recognition Based) Robotics Arm</h3>
<p>Research-oriented, open-source project under UN&#39;s SDG3 - Good Health &amp; Well-Being. <strong>Tech:</strong> Python, Arduino Programming, Arduino Toolkit, TensorFlow (May 2020)</p>
<h3>Nepali Language Projects</h3>
<p>Developed multiple applications, including a Devanagari letter classifier using VGG16 (accuracy 0.94), a Nepali sentiment analysis model, and a simple OCR for Nepali text. <strong>Tech:</strong> Keras, Transformer, PyTorch, TF-IDF, NLTK (Past 2 Years)</p>
<h3>Unsupervised Model</h3>
<p>Explored the behavior of latent spaces using VAE, GAN, C-GAN, AC-GAN, and DC-GAN. <strong>Tech:</strong> Python, NumPy, TensorFlow (Sep 2021)</p>
<h3>NEPSE Simple</h3>
<p>Presented Nepal stock market data in a minimal environment constraint. <strong>Tech:</strong> GitHub Workflow, Automation in Scraping, WebSockets, JavaScript, RSS, XML (Since 2020)</p>
<h3>Advanced Document and AI Systems</h3>
<p>Designed and implemented a variety of tools, including:</p>
<ul>
<li>Chat systems for Nepali and multilingual documents with Preeti-to-Unicode conversion and guardrails for improved user interaction</li>
<li>AI-powered memo creation and advanced Excel file manipulation tools</li>
<li>Contract document analysis using recursive and advanced reasoning GPT systems</li>
<li>Translation systems for Nepali documents using OCR and text conversion</li>
<li>Chat and interaction systems for image and audio data with TTS and Whisper integration</li>
</ul>
<h3>Verification and Financial Prediction Systems</h3>
<p>Developed:</p>
<ul>
<li>A face and signature verification app using VGG-based advanced face detection and liveness detection algorithms</li>
<li>A loan eligibility prediction system utilizing knowledge-based reasoning techniques</li>
</ul>
<h2>Honors and Awards</h2>
<ul>
<li><p><strong>Winner of <a href="https://www.linkedin.com/posts/gritfeat-solutions_aihackathon-gritfeat-healthcare-activity-7025771930481803264-Hbdc?utm_source=share&utm_medium=member_desktop">GritFeat AI Hackathon</a> 2023, Locus</strong> - Feb 2023 (SWIFT is a wearable device with hardware and AI models that detect falls in elderly people with 0.7986 accuracy, resulting in immediate emergency alerts to contacts)</p>
</li>
<li><p><strong>First Runner-Up of Dataverse, Locus</strong> - Jan 2023, <a href="https://github.com/rockerritesh/Datarush-2023-DataVerse-">Dataverse Solution</a> (NLP-based problem to classify abstracts)</p>
</li>
<li><p><strong>Winner of Best AI Project of Deltathon, DELTA 3.0</strong> - Jan 2022, <a href="https://github.com/adhikariraju38/Nepali_Harvest">Nepali Harvest</a> (Designed a portal to help farmers by predicting diseases, identifying optimal harvest times, and aiding with crop health assessment)</p>
</li>
<li><p><strong>Winner of <a href="https://www.kaggle.com/competitions/automatic-vote-counting-image/overview">Image Challenge</a>, IT-Meet UP KU</strong> - Sep 2022 (Training AI model to classify images of ballot papers)</p>
</li>
<li><p><strong>Winner of Capture The Flag, LogPoint</strong> - Feb 2021 (Task of finding information and exploiting a binary file)</p>
</li>
<li><p><strong>Runner&#39;s Up at DATARUSH by DOCSUMO</strong> - Feb 2021 (NLP-based model for classifying abstracts into classes)</p>
</li>
</ul>
<h2>Social Experience</h2>
<h3>Team of <a href="https://nplcoder.org">NPL Coders</a> | Global</h3>
<p><em>Sep 2023 - Present</em><br>Conducted National level Data Science Coding Competition on Kaggle and HackerRank</p>
<h3>Joint Secretary at NTBNS Student Clubs, IOE, Pulchowk Campus | Lalitpur, Nepal</h3>
<p><em>Jan 2020 - Present</em><br>Conducted technical training &amp; Organized Nepal&#39;s largest Saraswati Puja Program</p>
<h3>Tutor of Children In Technology - WorldLink | Nepal</h3>
<p><em>Nov 2023</em><br>Educated students about risks and safety of the Internet</p>

    </div>

    <div class="citation-section">
    <h3 class="citation-title">üìö How to Cite This Post</h3>
    
    <div class="citation-formats">
        <!-- BibTeX Citation -->
        <div class="citation-format">
            <h4>BibTeX</h4>
            <div class="citation-box">
                <pre class="citation-text" id="bibtex-citation">@article&#123;yadav{{ page.date | date: "%Y" }}{{ page.title | slugify | replace: '-', '' }},
    title = &#123;Bio- Rocker Ritesh&#125;,
    author = &#123;Sumit Yadav&#125;,
    journal = &#123;Tatva&#125;,
    year = &#123;{{ page.date | date: "%Y" }}&#125;,
    month = &#123;{{ page.date | date: "%B" }}&#125;,
    day = &#123;{{ page.date | date: "%d" }}&#125;,
    url = &#123;https://tatva.sumityadav.com.np/posts/2025/06/02/bio/&#125;,
    note = &#123;Accessed: {{ site.time | date: "%B %d, %Y" }}&#125;
&#125;</pre>
                <button class="copy-button" onclick="copyToClipboard('bibtex-citation')" title="Copy BibTeX">
                    üìã Copy BibTeX
                </button>
            </div>
        </div>
        
        <!-- APA Citation -->
        <div class="citation-format">
            <h4>APA Style</h4>
            <div class="citation-box">
                <pre class="citation-text" id="apa-citation">Yadav, S. ({{ page.date | date: "%Y, %B %d" }}). Bio- Rocker Ritesh. <em>." <em>Tatva</em>, {{ page.date | date: "%d %b %Y" }}, https://tatva.sumityadav.com.np." Tatva. {{ page.date | date: "%B %d, %Y" }}. https://tatva.sumityadav.com.np/posts/2025/06/02/bio/.</pre>
                <button class="copy-button" onclick="copyToClipboard('chicago-citation')" title="Copy Chicago">
                    üìã Copy Chicago
                </button>
            </div>
        </div>
    </div>
    
    <div class="citation-note">
        <p><strong>Note:</strong> This citation format is automatically generated. Please verify and adjust according to your institution's specific requirements.</p>
    </div>
</div>

<script>
function copyToClipboard(elementId) {
    const element = document.getElementById(elementId);
    const text = element.textContent || element.innerText;
    
    // Create a temporary textarea element
    const textarea = document.createElement('textarea');
    textarea.value = text;
    document.body.appendChild(textarea);
    
    // Select and copy the text
    textarea.select();
    textarea.setSelectionRange(0, 99999); // For mobile devices
    
    try {
        document.execCommand('copy');
        
        // Update button text to show success
        const button = element.nextElementSibling;
        const originalText = button.textContent;
        button.textContent = '‚úÖ Copied!';
        button.style.background = 'var(--link-color)';
        button.style.color = 'white';
        
        // Reset button after 2 seconds
        setTimeout(() => {
            button.textContent = originalText;
            button.style.background = '';
            button.style.color = '';
        }, 2000);
        
    } catch (err) {
        console.error('Failed to copy text: ', err);
        alert('Failed to copy citation. Please select and copy manually.');
    }
    
    // Remove the temporary textarea
    document.body.removeChild(textarea);
}
</script>

    <footer class="post-footer">
        <p><a href="/">&larr; Back to all posts</a></p>
    </footer>
</article> 
                </div>
                <aside class="sidebar">
    <div class="profile-card">
        <div class="profile-image">
            
            <img src="https://avatars.githubusercontent.com/rockerritesh" alt="Sumit Yadav" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
            
            <div class="profile-placeholder" style="display: none;">
                <span>{{ site.author.name | slice: 0 }}</span>
            </div>
        </div>
        
        <div class="profile-info">
            <h2 class="profile-name">Sumit Yadav</h2>
            <p class="profile-title">Research Scientist & Developer</p>
            <p class="profile-location">üìç Nepal</p>
            
            
            <p class="profile-bio">AI/ML researcher passionate about building intelligent systems and exploring the intersection of technology and human creativity.</p>
            
            
            <div class="profile-links">
                
                <a href="mailto:rockerritesh4@gmail.com" class="profile-link" title="Email">
                    üìß Email
                </a>
                
                
                
                <a href="https://github.com/rockerritesh" class="profile-link" title="GitHub" target="_blank">
                    üêô GitHub
                </a>
                
                
                
                <a href="https://linkedin.com/in/rockerritesh" class="profile-link" title="LinkedIn" target="_blank">
                    üíº LinkedIn
                </a>
                
                
                
                <a href="https://twitter.com/rocker_ritesh" class="profile-link" title="Twitter" target="_blank">
                    üê¶ Twitter
                </a>
                
                
                
                <a href="https://scholar.google.com/citations?user=ag74ytsAAAAJ&hl=en" class="profile-link" title="Google Scholar" target="_blank">
                    üéì Scholar
                </a>
                
                
                
                <a href="https://sumityadav.com.np" class="profile-link" title="Website" target="_blank">
                    üåê Website
                </a>
                
            </div>
        </div>
    </div>
    
    <div class="research-highlights">
        <h3>Research Highlights</h3>
        <div class="highlight-section">
            <h4>AI & Machine Learning</h4>
            <ul>
                <li>Large Language Models</li>
                <li>Deep Learning Systems</li>
                <li>Natural Language Processing</li>
                <li>Computer Vision</li>
            </ul>
        </div>
        
        <div class="highlight-section">
            <h4>Software Development</h4>
            <ul>
                <li>Full-Stack Development</li>
                <li>Backend Systems</li>
                <li>API Design</li>
                <li>DevOps & Cloud</li>
            </ul>
        </div>
        
        <div class="highlight-section">
            <h4>Current Focus</h4>
            <ul>
                <li>AI Agent Development</li>
                <li>Model Optimization</li>
                <li>Research & Innovation</li>
                <li>Open Source Projects</li>
            </ul>
        </div>
    </div>
    
    <!-- <div class="recent-posts">
        <h3>Recent Posts</h3>
        <ul class="sidebar-post-list">
            
        </ul>
    </div> -->
</aside>

            </div>
        </div>
    </main>
    
    <footer class="site-footer">
    <div class="wrapper">
        <div class="footer-content">
            <p>&copy; 2026 Made with ‚ù§Ô∏è | All rights reserved to <a href="https://sumityadav.com.np" target="_blank">sumityadav.com.np</a></p>
            <p>Licensed under <a href="https://github.com/rockerritesh/tatva/blob/main/LICENSE" target="_blank">Apache License 2.0</a></p>
            
                <p>Contact: <a href="mailto:rockerritesh4@gmail.com">rockerritesh4@gmail.com</a></p>
            
        </div>
    </div>
</footer> 
    
    <!-- Theme toggle functionality -->
    <script>
        (function() {
            // Get theme preference from localStorage or default to system preference
            const getThemePreference = () => {
                const stored = localStorage.getItem('theme-preference');
                if (stored) return stored;
                
                return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            };
            
            // Apply theme to document
            const applyTheme = (theme) => {
                const root = document.documentElement;
                root.classList.remove('light-theme', 'dark-theme');
                
                if (theme !== 'auto') {
                    root.classList.add(`${theme}-theme`);
                }
                
                // Update Mermaid theme if it exists
                if (window.mermaid) {
                    const mermaidTheme = theme === 'dark' || 
                        (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) 
                        ? 'dark' : 'default';
                    
                    mermaid.initialize({ 
                        startOnLoad: true,
                        theme: mermaidTheme,
                        themeVariables: {
                            primaryColor: theme === 'dark' ? '#4da6ff' : '#ff6b6b',
                            primaryTextColor: theme === 'dark' ? '#e0e0e0' : '#333',
                            primaryBorderColor: theme === 'dark' ? '#4da6ff' : '#ff6b6b',
                            lineColor: theme === 'dark' ? '#a0a0a0' : '#666',
                            sectionBkgColor: theme === 'dark' ? '#2a2a2a' : '#f8f9fa',
                            altSectionBkgColor: theme === 'dark' ? '#333' : '#e9ecef',
                            gridColor: theme === 'dark' ? '#333' : '#ddd',
                            tertiaryColor: theme === 'dark' ? '#2a2a2a' : '#f1f3f4'
                        }
                    });
                    
                    // Re-render existing diagrams
                    document.querySelectorAll('.mermaid').forEach(el => {
                        if (el.getAttribute('data-processed')) {
                            el.removeAttribute('data-processed');
                            el.innerHTML = el.getAttribute('data-original') || el.innerHTML;
                        }
                    });
                    mermaid.init(undefined, '.mermaid');
                }
            };
            
            // Toggle theme function
            const toggleTheme = () => {
                const currentTheme = getThemePreference();
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                localStorage.setItem('theme-preference', newTheme);
                applyTheme(newTheme);
            };
            
            // Apply theme on page load
            document.addEventListener('DOMContentLoaded', () => {
                const theme = getThemePreference();
                applyTheme(theme);
                
                // Add click event to theme toggle button
                const themeToggle = document.getElementById('theme-toggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', toggleTheme);
                }
                
                // Store original mermaid content for re-rendering
                document.querySelectorAll('.mermaid').forEach(el => {
                    if (!el.getAttribute('data-original')) {
                        el.setAttribute('data-original', el.innerHTML);
                    }
                });
            });
            
            // Listen for system theme changes
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                // Only respond to system changes if user hasn't set a manual preference
                if (!localStorage.getItem('theme-preference')) {
                    applyTheme(e.matches ? 'dark' : 'light');
                }
            });
        })();
        
        // Scroll Progress Bar functionality
        (function() {
            const scrollProgressBar = document.getElementById('scroll-progress-bar');
            
            if (!scrollProgressBar) return;
            
            function updateScrollProgress() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const docHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                
                scrollProgressBar.style.height = Math.min(Math.max(scrollPercent, 0), 100) + '%';
            }
            
            // Update on scroll
            window.addEventListener('scroll', updateScrollProgress, { passive: true });
            
            // Update on resize (in case content changes)
            window.addEventListener('resize', updateScrollProgress, { passive: true });
            
            // Initial update
            updateScrollProgress();
        })();
    </script>
</body>
</html> 